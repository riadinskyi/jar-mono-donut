## Mono Jar Donut

### √üeta Open Banking —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤ Monobank.  
> [!NOTE]
> –í–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫–∏–π API –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –¥–æ–Ω–∞—Ü—ñ–π, —â–æ –Ω–∞–¥—ñ–π—à–ª–∏ –Ω–∞ —Ä–∞—Ö—É–Ω–æ–∫ –±–∞–Ω–∫–∏.
>
> üá∫üá¶ –ü—Ä–æ–¥—É–∫—Ç –ø–æ—Å–ª—É–≥–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –º—ñ—Å—ñ—ó –ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è **Open banking –≤ –£–∫—Ä–∞—ó–Ω—ñ üá∫üá¶**
> 
> –î–∂–µ—Ä–µ–ª–æ–º –¥–∞–Ω–Ω–∏—Ö —î –æ—Ñ—ñ—Ü—ñ–π–Ω–µ –ê–ü–Ü –ú–æ–Ω–æ–±–∞–Ω–∫.


### üí∏ Support projct
<a href="https://send.monobank.ua/jar/6dpG1MjjQb" target="_blank"><img alt="Support developer with Monobank donation" height="41" src="https://github.com/riadinskyi/city-alert-registry/blob/master/support-with-monobank-git.png?raw=true" title="Button for author support page" width="180"/></a>


## Important 

> [!Warning]
> –î–æ—Å—Ç—É–ø –¥–æ API —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –π–æ–≥–æ –≤–º—ñ—Å—Ç—É –∑–¥—ñ–π—Å–Ω—é—é—Ç—å—Å—è **–≤–∏–∫–ª—é—á–Ω–æ –Ω–∞ –≤–ª–∞—Å–Ω–∏–π —Ä–æ–∑—Å—É–¥ —ñ —Ä–∏–∑–∏–∫**.  
> **–†–æ–∑—Ä–æ–±–Ω–∏–∫ –∑–∞ –∂–æ–¥–Ω–∏—Ö –æ–±—Å—Ç–∞–≤–∏–Ω –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ** –ø–µ—Ä–µ–¥ –±—É–¥—å-—è–∫–æ—é —Å—Ç–æ—Ä–æ–Ω–æ—é –∑–∞ –±—É–¥—å-—è–∫—ñ –ø—Ä—è–º—ñ, –Ω–µ–ø—Ä—è–º—ñ, –≤–∏–ø–∞–¥–∫–æ–≤—ñ, –æ—Å–æ–±–ª–∏–≤—ñ —á–∏ —ñ–Ω—à—ñ –∑–±–∏—Ç–∫–∏, —â–æ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.
>
> –¶–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Monobank API —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–ª—è—î —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏. **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ—Å–µ –ø–æ–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –ø—Ä–æ–≤–µ–¥–µ–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è —á–∏–Ω–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–∞.**

> [!CAUTION]
> –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –¥–ª—è —à–∞—Ö—Ä–∞–π—Å—Ç–≤–∞, —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –æ–ø–æ–¥–∞—Ç–∫—É–≤–∞–Ω–Ω—è, –≤—ñ–¥–º–∏–≤–∞–Ω–Ω—è –∫–æ—à—Ç—ñ–≤ –∞–±–æ –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –Ω–µ–∑–∞–∫–æ–Ω–Ω–∏—Ö –¥—ñ–π **–º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –∫—Ä–∏–º—ñ–Ω–∞–ª—å–Ω–æ—ó –∞–±–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ** –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–∞ –£–∫—Ä–∞—ó–Ω–∏ —Ç–∞ —ñ–Ω—à–∏—Ö –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —ñ —ñ–Ω–æ–∑–µ–º–Ω–∏—Ö —é—Ä–∏—Å–¥–∏–∫—Ü—ñ–π.
>
> –†–æ–∑—Ä–æ–±–Ω–∏–∫ –∑–∞–∫–ª–∏–∫–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—É –ø—ñ–¥–ø—Ä–∏—î–º–Ω–∏—Ü—å–∫—É –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Å–ø–ª–∞—á—É–≤–∞—Ç–∏ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–¥–∞—Ç–∫–∏ –π –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –≤–Ω–µ—Å–∫–∏ –¥–æ –¥–µ—Ä–∂–∞–≤–Ω–∏—Ö –æ—Ä–≥–∞–Ω—ñ–≤.
>
> –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç, –≤–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—å –±—Ä–∞—Ç–∏ –Ω–∞ —Å–µ–±–µ –ø–æ–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –≤—Å—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏, —â–æ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø—ñ–¥ —á–∞—Å –π–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è.


## ‚ö†Ô∏è Requirements
- Python 3.9+
- Poetry
- RSA keys
- –¢–æ–∫–µ–Ω —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ –≤—ñ–¥ [–ú–æ–Ω–æ–±–∞–Ω–∫](https://monobank.ua/api-docs/monobank)

# Env settings
- SYSTEM_TOKEN ‚Äî –¢–æ–∫–µ–Ω –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —Ç–∞ –≤–∏–ø—É—Å–∫—É –¥–æ–∑–≤–æ–ª—ñ–≤, –≤—ñ–¥ —ñ–º–µ–Ω—ñ —Å–∏—Å—Ç–µ–º–∏. (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —â–µ –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
- OPERATION_TOKEN ‚Äî –ø—Ä–æ—Å—Ç–∏–π —Ä—è–¥–æ–∫, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–æ—Å—Ç—É–ø—É –¥–æ –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–æ–∫ –æ–ø–ª–∞—Ç–∏ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —ñ–Ω—à–æ–≥–æ API.

## Payments authorization
All /payment endpoints require a custom header with a plain token from env:

- Header: X-Operation-Token: <OPERATION_TOKEN>

Example:

```bash
curl -H "X-Operation-Token: $OPERATION_TOKEN" \
     "http://localhost:8000/api/v1/payment/get/by-id?payment_id=1"
```




## Generate PEM keys
```Shell
### Generate A RSA private key, size 2048 
openssl genrsa -out jwt-private.pem 2048
```
```shell
### Generate A RSA public key from the private key, which can be used in certification
openssl rsa -in jwt-private.pem -pubout -out jwt-public.pem
```

